---
title: 《设计模式之禅》之桥梁模式
date: 2020-04-20 22:59:53
tags: "读书笔记"
---

## 一、桥梁模式的定义
桥梁模式也叫桥接模式，是一个比较简单的模式，其定义如下:
**将抽象和实现解耦，使得两者可以独立地变化。**
<!--more-->

### 桥梁模式的四个角色

#### Abstraction--抽象化角色
它的主页职责是定义出该角色的行为，同时保存一个对实现画角色的引用，该角色一般是抽象类。

#### Implementor--实现化角色
它是接口或者抽象类，定义角色必需的行为和属性。

#### RefindAbstraction--修正抽象化角色
它引用实现化角色对抽象化角色进行修正。

#### ConcreteImplementor--具体实现化角色
它实现接口或抽象类定义的方法和属性。

桥梁模式中的几个名词比较拗口，大家记住一句话:**抽象角色引用实现角色，或者说抽象角色的部分由实现角色完成的**


## 二、桥梁模式的应用

### 1.桥梁模式的优点

#### a.抽象和实现分离

#### b.优秀的扩充能力

#### c.实现细节对客户透明

### 2.桥梁模式的使用场景

#### a.不希望或不适用于继承的场景
例如继承层次过渡、无法更细化设计颗粒等场景，需要考虑使用桥梁模式。

#### b.接口或抽象类不稳定的场景
明知道接口不稳定还想通过实行或继承来实现业务需求，那是得不偿失，也是比较失败的做法。

#### c.重用性要求较高的场景
设计的颗粒度越细，则被重用的可能性就越大，而采用继承则受父类的限制，不可能出现太细的颗粒度。


### 3.桥梁模式的注意事项
桥梁模式非常简单，使用该模式时主要考虑如何拆分抽象和实现，并不是一涉及继承就要考虑使用该模式。桥梁模式的意图还是对变化的封装，尽量把可能变化的因素封装到最细、最小的逻辑单元中，避免风险扩散。


## 三、最佳实践
继承的优点有很大，可以把公共的方法或属性抽取，父类封装共性，子类实现特性，这是继承的基本功能。但是缺点比较明显就是强侵入性，父类有这个方法，子类也必须有，会带来扩展性问题，而桥梁模式就是这一问题的解决办法之一。

代码例子:
https://github.com/developers-youcong/DesignPatternPractice/tree/master/Bridge