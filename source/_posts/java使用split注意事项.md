---
title: java使用split注意事项
date: 2020-09-02 21:09:17
tags: "Java"
---

java使用split的应用场景，通常是针对字符串进行分割。
<!--more-->
比方说:
前端有这样一个参数，如{"year":"2018|2019|2020"}

而我后端接收需要进一步处理，如需要将2018|2019|2020一个个分割出来，就需要用到split方法。

我在使用split分割字符串时，遇到这样一个问题。

错误代码:
```
String[] year = reqDTO.getYear().split("|");

```

实际上并不能分割输出如下结果:
```
2018
2019
2020

```

正确代码:
```
String[] year = reqDTO.getYear().split("\\|");

```

那么问题来了，为什么需要转义?

查看对应的源码，如下:
```
    public String[] split(String regex) {
        return split(regex, 0);
    }

```

答案是底层根据正则表达式匹配。如果不使用转义符，java自带的转义可能就识别为将2019|2018|2020一个个分割，最后分割出来的肯定是单个，如2、0、1、9、|这样的。